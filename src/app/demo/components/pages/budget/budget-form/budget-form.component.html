<button (click)="openModal()">Add Detail</button>

<p-table [value]="budgetDetails">
  <ng-template pTemplate="header">
    <tr>
      <th>Service</th>
      <th>Discount</th>
      <th>Observations</th>
      <th>Cost</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-detail>
    <tr>
      <td>{{ detail.service }}</td>
      <td>{{ detail.discount }}</td>
      <td>{{ detail.observations }}</td>
      <td>{{ detail.cost }}</td>
    </tr>
  </ng-template>
</p-table>

<p-dialog header="Budget Details" [(visible)]="displayModal" [modal]="true" [style]="{width: '80vw', height: '80vh'}"  [responsive]="true">
  <app-add-detail-form 
    [visible]="displayModal" 
    [services]="services" 
    (detailAdded)="addDetail($event)">
  </app-add-detail-form>
</p-dialog>

<div>
  <p>Total: {{ total }}</p>
  <p>Discount: <input type="number" [(ngModel)]="discount" (ngModelChange)="calculateFinalTotal()"></p>
  <p>Final Total: {{ finalTotal }}</p>
  <p>Observations: <input type="text" [(ngModel)]="observations"></p>
</div>

<button (click)="submitForm()">Submit Budget</button>
